{% load book_extras %}
    <nav class="pcoded-navbar">
        <div class="navbar-wrapper">
            <div class="navbar-brand header-logo">
                <a target="_blank" 
                   href="#" class="b-brand">
                    <div class="b-bg">
                        <i class="feather icon-trending-up"></i>
                    </div>
                    <span class="b-title">eDNA PlatForm</span>
                </a>
                <a class="mobile-menu" id="mobile-collapse" href="javascript:"><span></span></a>
            </div>
            <div class="navbar-content scroll-div">
                <ul class="nav pcoded-inner-navbar">
                    <li class="nav-item pcoded-menu-caption">
                        <label>菜单</label>
                    </li>
                    <li 
                        class="nav-item {% if 'index' in segment %} active {% endif %}">
                        <a href="/" class="nav-link "><span class="pcoded-micon"><i class="feather icon-home"></i></span><span class="pcoded-mtext">首页</span></a>
                    </li>
                    <li 
                        class="nav-item {% if request.resolver_match.url_name == 'chart' %} active {% endif %}">
                        <a href="{% url 'chart' %}" class="nav-link "><span class="pcoded-micon"><i class="feather icon-pie-chart"></i></span><span class="pcoded-mtext">图表统计</span></a>
                    </li>
                    <li 
                        class="nav-item {% if request.resolver_match.url_name == 'map' %} active {% endif %}">
                        <a href="{% url 'map' %}" class="nav-link "><span class="pcoded-micon"><i class="feather icon-map"></i></span><span class="pcoded-mtext">地图</span></a>
                    </li>
                    
                    <!-- Borrow List -->
                    <li class="nav-item pcoded-menu-caption">
                        <label>操作记录</label>
                    </li>
                    <li class="nav-item {% if request.resolver_match.url_name == 'record_list' %} active {% endif %}">
                        <a href="{% url 'record_list' %}" class="nav-link "><span class="pcoded-micon"><i class="feather icon-file-text"></i></span><span class="pcoded-mtext">删改历史</span></a>
                    </li>

                    <!-- <li class="nav-item {% if request.resolver_match.url_name == 'record_create' %} active {% endif %}">
                        <a href="{% url 'record_create' %}" class="nav-link "><span class="pcoded-micon"><i class="feather icon-file-text"></i></span><span class="pcoded-mtext">Lend Book</span></a>
                    </li> -->

                    <!-- Data download -->
                    <li class="nav-item pcoded-menu-caption">
                        <label>物种数据下载</label>
                    </li>
                    <li class="nav-item pcoded-hasmenu {% if request.resolver_match.url_name == 'ncbi_download_data' or request.resolver_match.url_name == 'embl_download_data' or request.resolver_match.url_name == 'mitofish_download_data' or request.resolver_match.url_name == 'bold_download_data' or request.resolver_match.url_name == 'fasta_merge'%} active pcoded-trigger {% endif %}">
                        <a href="javascript:" class="nav-link "><span class="pcoded-micon"><i class="feather icon-download-cloud"></i></span><span class="pcoded-mtext">在线数据库下载</span></a>
                        <ul class="pcoded-submenu">
                            <li class=""><a href="{% url 'ncbi_download_data' %}" class="">NCBI检索下载</a></li>
                            <li class=""><a href="{% url 'embl_download_data' %}" class="">EMBL数据库下载</a></li>
                            <li class=""><a href="{% url 'mitofish_download_data' %}" class="">MitoFish数据库下载</a></li>
                            <li class=""><a href="{% url 'bold_download_data' %}" class="">Bold数据库下载</a></li>
                            <li class=""><a href="{% url 'fasta_merge' %}" class="">数据归并</a></li>
                        </ul>
                    </li>
                    <li class="nav-item pcoded-menu-caption">
                        <label>扩增子</label>
                    </li>
                    <li class="nav-item pcoded-hasmenu {% if request.resolver_match.url_name == 'inslico_pcr' or request.resolver_match.url_name == 'pga' %} active pcoded-trigger {% endif %}">
                        <a href="javascript:" class="nav-link "><span class="pcoded-micon"><i class="feather icon-file-text"></i></span><span class="pcoded-mtext">扩增子提取</span></a>
                        <ul class="pcoded-submenu"> 
                            <li class=""><a href="{% url 'inslico_pcr' %}" class="">In-Slico PCR</a></li>
                            <li class=""><a href="{% url 'pga' %}" class="">pga</a></li>
                        </ul>
                    </li>

                    <!-- Management> -->
                    <li class="nav-item pcoded-menu-caption">
                        <label>数据库管理</label>
                    </li>
                    <li class="nav-item pcoded-hasmenu {% if request.resolver_match.url_name == 'fasta_clean' or request.resolver_match.url_name == 'fasta_export' or request.resolver_match.url_name == 'fasta_dereplicate' or request.resolver_match.url_name == 'fasta_assign_tax'%} active pcoded-trigger {% endif %}">
                        <a href="javascript:" class="nav-link "><span class="pcoded-micon"><i class="feather icon-file-text"></i></span><span class="pcoded-mtext">数据库清洗</span></a>
                        <ul class="pcoded-submenu"> 
                            <li class=""><a href="{% url 'fasta_assign_tax' %}" class="">分配分类</a></li>
                            <li class=""><a href="{% url 'fasta_dereplicate' %}" class="">去重</a></li>
                            <li class=""><a href="{% url 'fasta_clean' %}" class="">清洗</a></li>
                            <li class=""><a href="{% url 'fasta_export' %}" class="">导出</a></li>
                        </ul>
                    </li>
                    <!-- 物种序列信息管理 -->
                    <li class="nav-item pcoded-hasmenu {% if request.resolver_match.url_name == 'sequence_list' or request.resolver_match.url_name == 'sequence_create' or request.resolver_match.url_name == 'sequence_detail' %} active pcoded-trigger {% endif %}">
                        <a href="javascript:" class="nav-link "><span class="pcoded-micon"><i class="feather icon-file-minus"></i></span><span class="pcoded-mtext">物种参考序列信息</span></a>
                        <ul class="pcoded-submenu">
                            <li class=""><a href="{% url 'sequence_list' %}" class="">物种参考序列信息列表</a></li>
                            <li class=""><a href="{% url 'sequence_create' %}" class="">添加物种参考序列信息</a></li>
                        </ul>
                    </li>
                    <li class="nav-item pcoded-hasmenu {% if request.resolver_match.url_name == 'primers_create' or request.resolver_match.url_name == 'primers_list' or request.resolver_match.url_name == 'primers_delete' %} active pcoded-trigger {% endif %}">
                        <a href="javascript:" class="nav-link "><span class="pcoded-micon"><i class="feather icon-file-minus"></i></span><span class="pcoded-mtext">引物区域信息</span></a>
                        <ul class="pcoded-submenu">
                            <li class=""><a href="{% url 'primers_list' %}" class="">引物区域信息列表</a></li>
                            <li class=""><a href="{% url 'primers_create' %}" class="">添加引物区域信息</a></li>
                        </ul>
                    </li>
                    <!-- visualization -->
                    <li class="nav-item pcoded-menu-caption">
                        <label>可视化</label>
                    </li>
                    <li class="nav-item pcoded-hasmenu {% if request.resolver_match.url_name == 'visualization_diversity' or request.resolver_match.url_name == 'visualization_amplicon_length' or request.resolver_match.url_name == 'visualization_db_completeness' or request.resolver_match.url_name == 'visualization_phylo' or request.resolver_match.url_name == 'visualization_primer_efficiency'%} active pcoded-trigger {% endif %}">
                        <a href="javascript:" class="nav-link "><span class="pcoded-micon"><i class="feather icon-file-text"></i></span><span class="pcoded-mtext">可视化</span></a>
                        <ul class="pcoded-submenu">
                            <li class=""><a href="{% url 'visualization_diversity' %}" class="">Diversity</a></li>
                            <li class=""><a href="{% url 'visualization_amplicon_length' %}" class="">Amplicon_Length</a></li>
                            <li class=""><a href="{% url 'visualization_db_completeness' %}" class="">DB_Completeness</a></li>
                            <li class=""><a href="{% url 'visualization_phylo' %}" class="">Phylo</a></li>
                            <li class=""><a href="{% url 'visualization_primer_efficiency' %}" class="">Primer_Efficiency</a></li>
                        </ul>
                    </li>
                     <!-- manage book -->
                    <li class="nav-item pcoded-hasmenu {% if request.resolver_match.url_name == 'book_list' or request.resolver_match.url_name == 'book_create' or request.resolver_match.url_name == 'book_update' or request.resolver_match.url_name == 'book_delete' or request.resolver_match.url_name == 'book_detail' %} active pcoded-trigger {% endif %}">
                        <a href="javascript:" class="nav-link "><span class="pcoded-micon"><i class="feather icon-file-minus"></i></span><span class="pcoded-mtext">Books</span></a>
                        <ul class="pcoded-submenu">
                            <li class=""><a href="{% url 'book_list' %}" class="">Book list</a></li>
                            <li class=""><a href="{% url 'book_create' %}" class="">Add book</a></li>
                        </ul>
                    </li>

                    <!-- Management Category -->
                    {% url 'category_list' as category_list %}
                    {% url 'category_create' as category_create %}
                    {% url 'category_delete' as category_delete %}
                    <li class="nav-item pcoded-hasmenu {% if request.path == category_list or request.path == category_create or request.path == category_delete %} active pcoded-trigger {% endif %}">
                        <a href="javascript:" class="nav-link "><span class="pcoded-micon"><i class="feather icon-box"></i></span><span class="pcoded-mtext">Categories</span></a>
                        <ul class="pcoded-submenu">
                            <li class=""><a href="{% url 'category_list' %}" class="">All Categories</a></li>
                            <li class=""><a href="{% url 'category_create' %}" class="">Add Category</a></li>
                        </ul>
                    </li>

                    <!-- Management Publisher -->

                    <!-- <li class="nav-item pcoded-hasmenu {% if request.resolver_match.url_name == 'publisher_list' or request.resolver_match.url_name == 'publisher_create' or request.resolver_match.url_name == 'publisher_update' or request.resolver_match.url_name == 'publisher_delete' %} active pcoded-trigger {% endif %}">
                        <a href="javascript:" class="nav-link "><span class="pcoded-micon"><i class="feather icon-box"></i></span><span class="pcoded-mtext">Publishers</span></a>
                        <ul class="pcoded-submenu">
                            <li class=""><a href="{% url 'publisher_list' %}" >All Publishers</a></li>
                            <li class=""><a href="{% url 'publisher_create' %}" >Add Publisher</a></li>
                        </ul>
                    </li> -->


                    <!-- Membership  -->
                    <li class="nav-item pcoded-hasmenu {% if request.resolver_match.url_name == 'member_list' or request.resolver_match.url_name == 'member_create' or request.resolver_match.url_name == 'member_update' or request.resolver_match.url_name == 'member_delete' or request.resolver_match.url_name == 'member_detail' %} active pcoded-trigger {% endif %}">
                        <a href="javascript:" class="nav-link "><span class="pcoded-micon"><i class="feather icon-box"></i></span><span class="pcoded-mtext">Membership</span></a>
                        <ul class="pcoded-submenu">
                            <li class=""><a href="{% url 'member_list' %}" class="">All Members</a></li>
                            <li class=""><a href="{% url 'member_create' %}" class="">Add Member</a></li>
                        </ul>
                    </li>

                    <!-- User Logs -->
   
                    {% url 'profile_create' as profile_create %}
                    <li class="nav-item pcoded-menu-caption">
                        <label>User Admin</label>
                    </li>
                    {% if request.user.profile.id %}
                    <li  class="nav-item {% if request.resolver_match.url_name == 'profile_detail' %} active pcoded-trigger {% endif %}">
                        <a href="{% url 'profile_detail' request.user.profile.id %}" class="nav-link "><span class="pcoded-micon"><i class="feather icon-user"></i></span><span class="pcoded-mtext">我的信息</a>
                    </li>
                    <li  class="nav-item {% if request.resolver_match.url_name == 'profile_update' %} active pcoded-trigger {% endif %}">
                        <a href="{% url 'profile_update' request.user.profile.pk %}" class="nav-link "><span class="pcoded-micon"><i class="feather icon-edit-1"></i></span><span class="pcoded-mtext">个人信息更新</a>
                    </li>
                    {% else %}
                    <li  class="nav-item {% if request.resolver_match.url_name == 'profile_create' %} active pcoded-trigger {% endif %}">
                        <a href="{% url 'profile_create' %}" class="nav-link "><span class="pcoded-micon"><i class="feather icon-file-text"></i></span><span class="pcoded-mtext">创建个人信息</a>
                    </li>

                    {% endif %}


                    {% if request.user|has_group:"logs" %}
                    <li  class="nav-item {% if request.resolver_match.url_name == 'user_activity_list' %} active {% endif %} {% if request.resolver_match.url_name == 'user_activity_delete' %} active {% endif %}">
                        <a href="{% url 'user_activity_list' %}" class="nav-link "><span class="pcoded-micon"><i class="feather icon-file-text"></i></span><span class="pcoded-mtext">Logs</a>
                    </li>
                    {% endif %}

                    {% if request.user|has_group:"download_data" %}
                    <li  class="nav-item {% if request.resolver_match.url_name == 'data_center' %} active {% endif %}">
                        <a href="{% url 'data_center' %}" class="nav-link "><span class="pcoded-micon"><i class="feather icon-file-text"></i></span><span class="pcoded-mtext">Data Center</a>
                    </li>
                    {% endif %}

                    
                    {% if request.user|has_group:"api" %}
                    <li  class="nav-item {% if request.resolver_match.url_name == 'api-overview' %} active {% endif %}">
                        <a href="{% url 'api-overview' %}" class="nav-link "><span class="pcoded-micon"><i class="feather icon-file-text"></i></span><span class="pcoded-mtext">API</a>
                    </li>
                    {% endif %}

                    {% if request.user.is_superuser %}
                    <li  class="nav-item {% if request.resolver_match.url_name == 'employees_list' %} active {% endif %}">
                        <a href="{% url 'employees_list' %}" class="nav-link "><span class="pcoded-micon"><i class="feather icon-file-text"></i></span><span class="pcoded-mtext">Employees</a>
                    </li>
                    {% endif %}

                    <!-- Form Table -->
                    <!-- <li class="nav-item pcoded-menu-caption">
                        <label>Forms & table</label>
                    </li>
                    <li data-username="form elements advance componant validation masking wizard picker select" 
                        class="nav-item {% if 'ui-forms' in segment %} active {% endif %}">
                        <a href="/ui-forms.html" class="nav-link "><span class="pcoded-micon"><i class="feather icon-file-text"></i></span><span class="pcoded-mtext">Form elements</span></a>
                    </li>
                    <li data-username="Table bootstrap datatable footable" 
                        class="nav-item {% if 'ui-tables' in segment %} active {% endif %}">
                        <a href="/ui-tables.html" class="nav-link "><span class="pcoded-micon"><i class="feather icon-server"></i></span><span class="pcoded-mtext">Table</span></a>
                    </li> -->

                </ul>
            </div>
        </div>
    </nav>
